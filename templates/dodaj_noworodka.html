{% extends "base.html" %}

{% block title %}Dodaj noworodka{% endblock %}

{% block content %}
<h2>Dodaj noworodka</h2>
<p>Wypełnij poniższy formularz, aby zarejestrować nowego noworodka i wprowadzić pomiary.</p>

{% if dziecko_form.errors or matka_form.errors or params_form.errors or apgar_form.errors %}
<div style="background: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; padding: 12px; border-radius: 4px; margin-bottom: 20px;">
  <strong>Błędy w formularzu:</strong>
  {% if dziecko_form.errors %}
    <div>Dane dziecka:</div>
    {{ dziecko_form.errors }}
  {% endif %}
  {% if matka_form.errors %}
    <div>Dane matki:</div>
    {{ matka_form.errors }}
  {% endif %}
  {% if params_form.errors %}
    <div>Parametry zewnętrzne:</div>
    {{ params_form.errors }}
  {% endif %}
  {% if apgar_form.errors %}
    <div>Wyniki APGAR:</div>
    {{ apgar_form.errors }}
  {% endif %}
</div>
{% endif %}

<form method="post" style="max-width: 600px;">
  {% csrf_token %}
  <fieldset>
    <legend>Dane dziecka</legend>
    {{ dziecko_form.as_p }}
  </fieldset>

  <fieldset>
    <legend>Dane matki (opcjonalne - wypełnij jeśli dodajesz nową matkę)</legend>
    <p style="font-size: 0.9em; color: #666; margin-bottom: 10px;">
      Możesz wybrać istniejącą matkę z sekcji Dane dziecka powyżej, lub dodać nową matkę tutaj.
    </p>
    {{ matka_form.as_p }}
  </fieldset>

  <fieldset>
    <legend>Parametry zewnętrzne</legend>
    {{ params_form.as_p }}
  </fieldset>

  <fieldset>
    <legend>Wyniki APGAR</legend>
    {{ apgar_form.as_p }}
  </fieldset>

  <button type="submit" class="btn">Zapisz</button>
  <a href="/" class="btn" style="background: #95a5a6; margin-left: 10px;">Anuluj</a>
</form>
{% endblock %}